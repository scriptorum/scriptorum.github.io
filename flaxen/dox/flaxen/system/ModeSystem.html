<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../bootstrap.min.js"></script><link href="../../styles.css" rel="stylesheet" /><link rel="icon" href="../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../nav.js"></script><script type="text/javascript" src="../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["dox"]};</script><title>ModeSystem - Flaxen API 16-Aug-15</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="dox"><a href="#">dox</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><span class="viewsource"><a href="https://github.com/scriptorum/flaxen/blob/master/source/flaxen/system/ModeSystem.hx">View source</a></span><h1><code><span class="directive">class </span><span class="type">flaxen.system.ModeSystem</span><span class="keyword"> extends</span> <a class="type" href="../../flaxen/FlaxenSystem.html">FlaxenSystem</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>In charge of maintenance of transitions between game modes. </p>
<p>To change modes, use flaxen.setMode(NewMode); NewMode is one 
of the ApplicationModeTypes listed in Application.hx. For example:</p>
<p>  flaxen.setMode(Mode("MyMode")); // switch to custom mode
  flaxen.setMode(Play); // switch to built-in mode</p>
<p>When a transition is detected, the stop handler for the current mode is called,
unprotected entities are destroyed, and then the start handler for the new mode
is called.</p>
<p>Start Handler - registerStartHandler</p>
<p>  Put your mode initialization in this function. This is where you create 
  new entities, for example. Changing flaxen.getApp().nextMode during
  this handler will cause an immediate transition to another mode. You might
  use this, for example, in the Init handler, to immediately transition
  to the Menu mode without delay.</p>
<p>Update Handler - registerUpdateHandler
  The UpdateSystem invokes a callback every time the app is updated. This 
  is intended to provide you with a place to process player inputs, but it 
  can do any kind of frequently-called work.</p>
<p>Stop Handler - registerStopHandler</p>
<p>  Before unprotected entities have been removed the stop handler is called. You
  could use this to save game state to an external source before the entities are
  flushed, for instance.  You can force transition to a different following mode
  by setting flaxen.getApp().nextMode to a different mode.</p>
<p>If the Always mode is supplied, this mode is executed when starting or stopping ALL modes.
The Always handler is called AFTER the main handler is called. Also see <code><a href="../../flaxen/component/Transitional.html">Transitional</a></code>.</p></div><h2>Instance Fields</h2><div class="platform platform-dox"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(f:<a class="type" href="../../flaxen/Flaxen.html">Flaxen</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="init"></a><h3><p><code><span class="keyword">function</span> <a href="#init"><span class="identifier">init</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="registerHandler"></a><h3><p><code><span class="keyword">function</span> <a href="#registerHandler"><span class="identifier">registerHandler</span></a>(handler:<a class="type" href="../../flaxen/FlaxenHandler.html">FlaxenHandler</a>, ?mode:<a class="type" href="../../flaxen/component/ApplicationMode.html">ApplicationMode</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="registerStartHandler"></a><h3><p><code><span class="keyword">function</span> <a href="#registerStartHandler"><span class="identifier">registerStartHandler</span></a>(handler:<a class="type" href="../../flaxen/ModeCallback.html">ModeCallback</a>, mode:<a class="type" href="../../flaxen/component/ApplicationMode.html">ApplicationMode</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="registerStopHandler"></a><h3><p><code><span class="keyword">function</span> <a href="#registerStopHandler"><span class="identifier">registerStopHandler</span></a>(handler:<a class="type" href="../../flaxen/ModeCallback.html">ModeCallback</a>, mode:<a class="type" href="../../flaxen/component/ApplicationMode.html">ApplicationMode</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="registerUpdateHandler"></a><h3><p><code><span class="keyword">function</span> <a href="#registerUpdateHandler"><span class="identifier">registerUpdateHandler</span></a>(handler:<a class="type" href="../../flaxen/ModeCallback.html">ModeCallback</a>, ?mode:<a class="type" href="../../flaxen/component/ApplicationMode.html">ApplicationMode</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="removeUnprotected"></a><h3><p><code><span class="keyword">function</span> <a href="#removeUnprotected"><span class="identifier">removeUnprotected</span></a>(mode:<a class="type" href="../../flaxen/component/ApplicationMode.html">ApplicationMode</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Remove all entities, excepting those that are protected.
An entity is protected if it has a Transitional component marked
"Always" or if the Transitional mode is the same as the mode we're 
transitioning to.</p><ul><li>TODO Jive this with Flaxen.removeTransitionedEntities();</li></ul></div></div><div class="platform platform-dox"><a name="update"></a><h3><p><code><span class="keyword">function</span> <a href="#update"><span class="identifier">update</span></a>(time:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div></div></div></div></body></html>