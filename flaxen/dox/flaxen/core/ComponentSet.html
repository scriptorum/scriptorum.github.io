<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../bootstrap.min.js"></script><link href="../../styles.css" rel="stylesheet" /><link rel="icon" href="../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../nav.js"></script><script type="text/javascript" src="../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["dox"]};</script><title>ComponentSet - Flaxen API 23-Apr-15</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="dox"><a href="#">dox</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><span class="viewsource"><a href="https://github.com/scriptorum/flaxen/blob/master/source/flaxen/core/ComponentSet.hx">View source</a></span><h1><code><span class="directive">class </span><span class="type">flaxen.core.ComponentSet</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>A ComponentSet is a list of steps that can be added (installed) into an entity 
(or ideally more). Most steps are for adding instances of components. This is its 
primary function, to quickly add components to an entity. Steps can also be used
to remove components from entities, or execute arbitrary functions that may or may
not return the instance to be added.</p>
<p>This set adds some base components to two different entities, and ensures neither
entity contains an Animation:</p>
<pre><code>	flaxen.newComponentSet("base")
		.add(Origin.center)
		.add(new Offset(10, 10))
		.addClass(Position, [0, 0])
		.remove(Animation);
	flaxen.addSet(entity1, "base");
	flaxen.addSet(entity2, "base");</code></pre></div><h2>Instance Fields</h2><div class="platform platform-dox"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-dox"><a name="add"></a><h3><p><code><span class="keyword">function</span> <a href="#add"><span class="identifier">add</span></a>&lt;<span class="type">T</span>&gt;(component:<span class="type">T</span>):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>Adds a component instance to the component set. Note that all entities using this set
will be sharing the same single instance of this component. See addClass.
TODO Verify this is not a Class or Function being passed in.</p></div></div><div class="platform platform-dox"><a name="addClass"></a><h3><p><code><span class="keyword">function</span> <a href="#addClass"><span class="identifier">addClass</span></a>(clazz:<span class="type">Class</span>&lt;<span class="type">Dynamic</span>&gt;, ?args:<span class="type">Array</span>&lt;<span class="type">Dynamic</span>&gt; = null):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>Adds a class and parameters to the set. The class will be instantiated with the
supplied paramters every time the set is installed in an entity. This prevents
sharing of instances that happens when you call set.add(new MyComponent(A, B, C)).
For example: set.addClass(MyComponent, [A, B, C]);</p></div></div><div class="platform platform-dox"><a name="addEntity"></a><h3><p><code><span class="keyword">function</span> <a href="#addEntity"><span class="identifier">addEntity</span></a>(entity:<span class="type">Entity</span>):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>Adds all the components from one entity into the set. Note that these components
are added immediately, so if you add or remove from the supplied entity at a 
later point, these changes will not be reflected in the component set.</p></div></div><div class="platform platform-dox"><a name="addFunction"></a><h3><p><code><span class="keyword">function</span> <a href="#addFunction"><span class="identifier">addFunction</span></a>(func:<span class="type">Entity</span> -&gt;<span class="type">Dynamic</span>):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>Adds a function. This function must accept installing entity as a parameter.
The function will be executed when the set is installed into an entity. If the 
function returns a component instance, it will be added to the entity. If it
returns null, it will be ignored.
TODO Allow functions with no parameters as well</p></div></div><div class="platform platform-dox"><a name="addSet"></a><h3><p><code><span class="keyword">function</span> <a href="#addSet"><span class="identifier">addSet</span></a>(set:<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a>):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>Adds a ComponentSet to this set. When the set is installed in an entity,
the supplied set will also be installed to the entity. Use this to implement
a component set hiearchy of parent/child sets. For instance, a gun is a weapon.
You could create a WeaponSet and a GunSet and install them both to your new gun 
entity, or instead add the WeaponSet to the GunSet using this method. Then when
install GunSet, the entity will also get WeaponSet installed.</p></div></div><div class="platform platform-dox"><a name="install"></a><h3><p><code><span class="keyword">function</span> <a href="#install"><span class="identifier">install</span></a>(entity:<span class="type">Entity</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Installs the components into the entity</p></div></div><div class="platform platform-dox"><a name="remove"></a><h3><p><code><span class="keyword">function</span> <a href="#remove"><span class="identifier">remove</span></a>(clazz:<span class="type">Class</span>&lt;<span class="type">Dynamic</span>&gt;):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>\*
Does not add an instance. Instead, when installed, removes the supplied 
component from the entity, if it has one.</p></div></div><div class="platform platform-dox"><a name="removeAll"></a><h3><p><code><span class="keyword">function</span> <a href="#removeAll"><span class="identifier">removeAll</span></a>(?except:<span class="type">Array</span>&lt;<span class="type">Class</span>&lt;<span class="type">Dynamic</span>&gt;&gt; = null):<a class="type" href="../../flaxen/core/ComponentSet.html">ComponentSet</a></code></p></h3><div class="doc"><p>Does not add an instance. Instead, when installed, removes all components 
from an entity. Completely blanks out an entity. Do this before any add calls.
If an array of component classes is supplied, these components will be
spared removal</p></div></div><div class="platform platform-dox"><a name="toString"></a><h3><p><code><span class="keyword">function</span> <a href="#toString"><span class="identifier">toString</span></a>():<span class="type">String</span></code></p></h3><div class="doc"><p>TODO This reports "[func]" if it encounters a remove or removeAll. This 
could be fixed by adding all steps as independent class objects.</p></div></div></div></div></div></body></html>