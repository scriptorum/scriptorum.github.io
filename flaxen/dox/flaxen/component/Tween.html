<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../bootstrap.min.js"></script><link href="../../styles.css" rel="stylesheet" /><link rel="icon" href="../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../nav.js"></script><script type="text/javascript" src="../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["dox"]};</script><title>Tween - Flaxen API 16-Aug-15</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="dox"><a href="#">dox</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><span class="viewsource"><a href="https://github.com/scriptorum/flaxen/blob/master/source/flaxen/component/Tween.hx">View source</a></span><h1><code><span class="directive">class </span><span class="type">flaxen.component.Tween</span><span class="keyword"> implements</span> <a class="type" href="../../flaxen/common/Completable.html">Completable</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>Alters one or more values between two points over a series of time. </p>
<p>General interpolation class. Supports easing, looping, and onComplete 
operations. This example moves myEntity to the upper left corner
over the course of two seconds, after which the Tween component removes 
itself from myEntity.</p>
<pre><code>	var pos = myEntity.get(Position);
	var tween = new Tween(2)
		.addTarget(pos, "x", 0)
		.addTarget(pos, "y", 0)
		.setOnComplete(DestroyComponent);
	myEntity.add(t);</code></pre>
<p>For a tween to be processed, you must use TweenSystem (added by default), 
the Tween instance must be added to an entity (done automatically with 
<code><a href="../../flaxen/Flaxen.html#newTween">Flaxen.newTween</a></code>), the entity must be added to Ash (ditto), and either 
autoStart must be true on creation (the default) or running set to true 
after creation. </p><ul><li>TODO: Add some static methods for creating Tweens with common settings, say Tween.createAndDestroy, or with a typedef create(props:TweenOptions)</li><li>TODO: Add multitween static method to tween more than one property of the same object, in a single call</li></ul></div><h2>Instance Fields</h2><div class="platform platform-dox"><a name="complete"></a><h3><p><code><span class="keyword">var</span> <a href="#complete"><span class="identifier">complete</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>This is set to true when the tween completes the tween</p></div></div><div class="platform platform-dox"><a name="duration"></a><h3><p><code><span class="keyword">var</span> <a href="#duration"><span class="identifier">duration</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p>The duration of the tween in seconds</p></div></div><div class="platform platform-dox"><a name="easing"></a><h3><p><code><span class="keyword">var</span> <a href="#easing"><span class="identifier">easing</span></a>:<a class="type" href="../../flaxen/common/EasingFunction.html">EasingFunction</a></code></p></h3><div class="doc"><p>The default easing function for all tween targets without a specified easing; set before adding targets</p></div></div><div class="platform platform-dox"><a name="elapsed"></a><h3><p><code><span class="keyword">var</span> <a href="#elapsed"><span class="identifier">elapsed</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p>The amount of elapsed time; this can be updated to advance or scrub the tween</p></div></div><div class="platform platform-dox"><a name="loop"></a><h3><p><code><span class="keyword">var</span> <a href="#loop"><span class="identifier">loop</span></a>:<a class="type" href="../../flaxen/common/LoopType.html">LoopType</a></code></p></h3><div class="doc"><p>The loop type of the tween; the tween only loops if this is not None</p></div></div><div class="platform platform-dox"><a name="loopCount"></a><h3><p><code><span class="keyword">var</span> <a href="#loopCount"><span class="identifier">loopCount</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>The number of times the tween has looped</p></div></div><div class="platform platform-dox"><a name="maxLoops"></a><h3><p><code><span class="keyword">var</span> <a href="#maxLoops"><span class="identifier">maxLoops</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>Sets the maximum number of loops; only applicable if <code>loop</code> is not None; a value of 0 is ignored (endless looping)</p></div></div><div class="platform platform-dox"><a name="name"></a><h3><p><code><span class="keyword">var</span> <a href="#name"><span class="identifier">name</span></a>:<span class="type">String</span></code></p></h3><div class="doc"><p>The name is primarily intended for the holding entity's name, which can be
helpful in some cases; <code><a href="../../flaxen/Flaxen.html#newTween">Flaxen.newTween</a></code> sets this automatically;
can be null if not defined</p></div></div><div class="platform platform-dox"><a name="onComplete"></a><h3><p><code><span class="keyword">var</span> <a href="#onComplete"><span class="identifier">onComplete</span></a>:<a class="type" href="../../flaxen/common/OnComplete.html">OnComplete</a></code></p></h3><div class="doc"><p>What to do after the tween completes</p></div></div><div class="platform platform-dox"><a name="running"></a><h3><p><code><span class="keyword">var</span> <a href="#running"><span class="identifier">running</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>The tween is only being updated when running is true; you can set
this false to pause automatic tweening; you can pass false for autoStart to 
delay execution; see <code>scrub</code></p></div></div><div class="platform platform-dox"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(duration:<span class="type">Float</span>, ?easing:<a class="type" href="../../flaxen/common/EasingFunction.html">EasingFunction</a>, ?loop:<a class="type" href="../../flaxen/common/LoopType.html">LoopType</a>, ?onComplete:<a class="type" href="../../flaxen/common/OnComplete.html">OnComplete</a>, ?autoStart:<span class="type">Bool</span> = true, ?name:<span class="type">String</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Constructs a new Tween</p>
<p>For a tween to be processed, it must have targets added to it (see 
<code>addTarget</code>) and be added to an Ash Entity.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>duration</td><td><p>The duration of the tween in seconds</p></td></tr><tr><td>easing</td><td><p>A easing function, which will be applied to all targets that don't specify an easing; defaults to <code><a href="../../flaxen/common/Easing.html#linear">Easing.linear</a></code></p></td></tr><tr><td>loop</td><td><p>The loop type of the tween; <code>None</code> does not loop, all other <code><a href="../../flaxen/common/LoopType.html">LoopType</a></code>s do</p></td></tr><tr><td>onComplete</td><td><p>What to do after the tween completes</p></td></tr><tr><td>autoStart</td><td><p>If true (default) kicks off the tween automatically; if false, you must kick it off by setting <code>running</code></p></td></tr><tr><td>name</td><td><p>The duration of the tween in seconds</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="addTarget"></a><h3><p><code><span class="keyword">function</span> <a href="#addTarget"><span class="identifier">addTarget</span></a>(obj:<span class="type">Dynamic</span>, prop:<span class="type">String</span>, target:<span class="type">Float</span>, ?initial:<span class="type">Float</span>, ?easing:<a class="type" href="../../flaxen/common/EasingFunction.html">EasingFunction</a>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Internal method for adding a <code>TweenTarget</code> to the tween
Each TweenTarget is an individual object property that can be tweened.
For a shorter convenience method, see <code>to</code>.</p><ul><li>TODO: Add basic pathing support by allowing Array for target</li></ul><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>obj</td><td><p>The object with the property that is to be tweened</p></td></tr><tr><td>prop</td><td><p>The name of the property within the object</p></td></tr><tr><td>target</td><td><p>The target value to tween to</p></td></tr><tr><td>initial</td><td><p>The initial value to tween from; if not supplied, defaults to the current value of the property</p></td></tr><tr><td>easing</td><td><p>The easing function to use for this tween; if not supplied, defaults to the current value of <code><a href="../../flaxen/component/Tween.html#easing">Tween.easing</a></code> </p></td></tr><tr><td>returns</td><td><p>This <code><a href="../../flaxen/component/Tween.html">Tween</a></code></p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="pause"></a><h3><p><code><span class="keyword">function</span> <a href="#pause"><span class="identifier">pause</span></a>():<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Pauses the tween.</p>
<p>This prevents all automatic tweening, and enables scrubbing. See <code>scrub</code>. Call <code>resume</code> to continue.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>This tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="restart"></a><h3><p><code><span class="keyword">function</span> <a href="#restart"><span class="identifier">restart</span></a>():<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Call to restart the tween from the beginning.</p></div></div><div class="platform platform-dox"><a name="resume"></a><h3><p><code><span class="keyword">function</span> <a href="#resume"><span class="identifier">resume</span></a>():<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Resumes a paused tween. </p>
<p>This resumes from the last pause point.
If it was paused due to scrubbing (see <code>scrub</code>) this resumes from the last scrub point.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>This tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="scrub"></a><h3><p><code><span class="keyword">function</span> <a href="#scrub"><span class="identifier">scrub</span></a>(val:<span class="type">Float</span>, ?asPercentage:<span class="type">Bool</span> = false):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>UNTESTED. Enables manual tweening aka scrubbing.</p>
<p>Immediately scrubs all targets to a specific tween time. The
val should be between 0 and the tween duration, or 0-1 if you 
set asPercentage to true. This method sets <code>running</code> to false 
(see <code>pause</code>) which turns off automatic tweening for this 
instance. When you want to stop scrubbing and resume automatic
tweening, set it back to true or call <code>resume</code>.</p></div></div><div class="platform platform-dox"><a name="setElapsed"></a><h3><p><code><span class="keyword">function</span> <a href="#setElapsed"><span class="identifier">setElapsed</span></a>(val:<span class="type">Float</span>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Sets the elapsed time.</p>
<p>This is generally managed automatically. You might call this before the tween
begins to "fast-forward" the tween to a particular point. For example, 1.5 seconds
into a 3.0 second tween would start the tween at the midpoint.</p>
<p>Another possibility is to "scrub" over values of the tween. See scrub()</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>val</td><td><p>The elapsed time, must be positive</p></td></tr><tr><td>returns</td><td><p>This Tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="setLoop"></a><h3><p><code><span class="keyword">function</span> <a href="#setLoop"><span class="identifier">setLoop</span></a>(?loop:<a class="type" href="../../flaxen/common/LoopType.html">LoopType</a>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Sets the <code>loop</code> type of this tween.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>loop</td><td><p>The <code><a href="../../flaxen/common/LoopType.html">LoopType</a></code> of this tween; defaults to <code>LoopType.None</code></p></td></tr><tr><td>returns</td><td><p>This Tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="setMaxLoops"></a><h3><p><code><span class="keyword">function</span> <a href="#setMaxLoops"><span class="identifier">setMaxLoops</span></a>(count:<span class="type">Int</span>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Sets the maximum number of loops a looping tween will have before it completes.
If <code>loop</code> is None, this setting has no effect. Supply 0 to disable this feature
(endless looping).</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>count</td><td><p>The maximum number of loops; may not be negative; 0 means no limit</p></td></tr><tr><td>returns</td><td><p>This tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="setName"></a><h3><p><code><span class="keyword">function</span> <a href="#setName"><span class="identifier">setName</span></a>(name:<span class="type">String</span>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Sets the <code>name</code> of this tween.</p>
<p>The name is primarily intended for the holding entity's name, which can be
used to look up the entity in Ash. See <code>name</code> for more.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>name</td><td><p>The name of the tween (may be null)</p></td></tr><tr><td>returns</td><td><p>This Tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="setOnComplete"></a><h3><p><code><span class="keyword">function</span> <a href="#setOnComplete"><span class="identifier">setOnComplete</span></a>(?onComplete:<a class="type" href="../../flaxen/common/OnComplete.html">OnComplete</a>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Immediately sets <code>onComplete</code>.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>OnComplete</td><td><p>What to do after the tween completes; defaults to <code>OnComplete.None</code></p></td></tr><tr><td>returns</td><td><p>This Tween</p></td></tr></tbody></table></div></div><div class="platform platform-dox"><a name="to"></a><h3><p><code><span class="keyword">function</span> <a href="#to"><span class="identifier">to</span></a>(obj:<span class="type">Dynamic</span>, prop:<span class="type">String</span>, target:<span class="type">Float</span>, ?initial:<span class="type">Float</span>, ?easing:<a class="type" href="../../flaxen/common/EasingFunction.html">EasingFunction</a>):<a class="type" href="../../flaxen/component/Tween.html">Tween</a></code></p></h3><div class="doc"><p>Convenience method, see <code>addTarget</code> for behavior.</p></div></div><div class="platform platform-dox"><a name="update"></a><h3><p><code><span class="keyword">function</span> <a href="#update"><span class="identifier">update</span></a>(time:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Updates automatic tweening for all targets in this instance.</p>
<p>Internal method, called by the <code><a href="../../flaxen/system/TweenSystem.html">TweenSystem</a></code>.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>time</td><td><p>The elapsed time in seconds</p></td></tr></tbody></table></div></div></div></div></div></body></html>